{"name":"XHS","url":"https://www.xiaohongshu.com/explore","showName":"XHS","appid":"com.XHS.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"desktop","platform":["1-1","1-2","2-1","2-2","3-1","3-2"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"// ====== å¼ºåˆ¶æ¡Œé¢æ¨¡å¼ ======\n// é”å®šæ¡Œé¢ç‰ˆUA\nObject.defineProperty(navigator, 'userAgent', {\n  value: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\",\n  writable: false\n});\n\n// å¼ºåˆ¶æ¡Œé¢è§†å›¾ï¼ˆé€šç”¨è§£å†³æ–¹æ¡ˆï¼‰\nlocalStorage.setItem('force_desktop', 'true');\nsessionStorage.setItem('desktop_view', '1');\ndocument.cookie = \"desktop_view=1; path=/; max-age=31536000\";\n\n// é’ˆå¯¹ç‰¹å®šç½‘ç«™çš„ä¼˜åŒ–\nif(window.location.hostname.includes('zhihu.com')) {\n  document.cookie = \"os=pc; path=/\";\n} else if(window.location.hostname.includes('weibo.com')) {\n  document.cookie = \"SUB=_2AkMTWkF9f8NxqwFRmP8Rz2PiaIVyyQDEieKkqXgZJRMxHRl-yT9kqnAetRB6OeS8w8YvYSQp7jJZxVHdS6yK6qV4a1Ug\";\n}\n// ====== ä¼˜åŒ–åçš„å¤åˆ¶æŒ‰é’® ======\n// åˆ›å»ºå¤åˆ¶æŒ‰é’®\nfunction createCopyButton() {\n  // ç§»é™¤æ—§æŒ‰é’®\n  const oldBtn = document.getElementById('pake-copy-btn');\n  if(oldBtn) oldBtn.remove();\n  \n  // åˆ›å»ºæ–°æŒ‰é’®\n  const btn = document.createElement('button');\n  btn.id = 'pake-copy-btn';\n  btn.innerHTML = 'ğŸ“‹ å¤åˆ¶ç½‘å€';\n  \n  // ä¼˜åŒ–åçš„ä½ç½®è®¾ç½®ï¼ˆä¸Šç§»70pxï¼‰\n  btn.style.cssText = `\n    position: fixed;\n    bottom: 70px;    /* ä¸Šç§»70px */\n    right: 25px;\n    z-index: 9999;\n    padding: 10px 20px;\n    background: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 25px;\n    font-size: 15px;\n    cursor: pointer;\n    box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n    font-family: -apple-system, \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n    transition: all 0.3s ease;\n  `;\n  \n  // æ·»åŠ ç‚¹å‡»äº‹ä»¶\n  btn.addEventListener('click', async () => {\n    try {\n      await navigator.clipboard.writeText(window.location.href);\n      showNotification('âœ… ç½‘å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');\n    } catch (err) {\n      fallbackCopy();\n    }\n  });\n  \n  document.body.appendChild(btn);\n  \n  // æ·»åŠ æ™ºèƒ½é¿è®©åŠŸèƒ½\n  setTimeout(() => {\n    detectElementConflicts(btn);\n  }, 1000);\n}\n\n// æ™ºèƒ½é¿è®©ç½‘é¡µå…ƒç´ \nfunction detectElementConflicts(btn) {\n  const btnRect = btn.getBoundingClientRect();\n  const allElements = document.querySelectorAll('*');\n  \n  allElements.forEach(el => {\n    if(el === btn) return;\n    \n    const elRect = el.getBoundingClientRect();\n    const styles = window.getComputedStyle(el);\n    \n    // æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸æŒ‰é’®é‡å \n    if (\n      elRect.bottom > btnRect.top &&\n      elRect.top < btnRect.bottom &&\n      elRect.right > btnRect.left &&\n      elRect.left < btnRect.right\n    ) {\n      // å¦‚æœå…ƒç´ æ˜¯äº¤äº’å…ƒç´ ä¸”å¯è§\n      if (\n        (el.tagName === 'BUTTON' || \n        el.tagName === 'A' || \n        el.onclick) && \n        styles.display !== 'none' && \n        styles.visibility !== 'hidden'\n      ) {\n        // æ™ºèƒ½è°ƒæ•´ä½ç½®\n        const newPosition = calculateBestPosition(btn, el);\n        btn.style.bottom = `${newPosition.bottom}px`;\n        btn.style.right = `${newPosition.right}px`;\n      }\n    }\n  });\n}\n\n// è®¡ç®—æœ€ä½³ä½ç½®\nfunction calculateBestPosition(btn, conflictElement) {\n  const conflictRect = conflictElement.getBoundingClientRect();\n  const btnRect = btn.getBoundingClientRect();\n  \n  // å°è¯•å‘ä¸Šç§»åŠ¨\n  const moveUpPosition = conflictRect.bottom + 20;\n  if(moveUpPosition < window.innerHeight - 100) {\n    return { bottom: moveUpPosition, right: parseInt(btn.style.right) };\n  }\n  \n  // å°è¯•å‘å·¦ç§»åŠ¨\n  const moveLeftPosition = window.innerWidth - conflictRect.left + 20;\n  if(moveLeftPosition > 150) {\n    return { bottom: parseInt(btn.style.bottom), right: moveLeftPosition };\n  }\n  \n  // é»˜è®¤å‘ä¸Šç§»åŠ¨æ›´å¤š\n  return { bottom: parseInt(btn.style.bottom) + 50, right: parseInt(btn.style.right) };\n}\n\n// å…¼å®¹æ—§è®¾å¤‡çš„å¤åˆ¶æ–¹æ³•\nfunction fallbackCopy() {\n  const textarea = document.createElement('textarea');\n  textarea.value = window.location.href;\n  textarea.style.position = 'fixed';\n  document.body.appendChild(textarea);\n  textarea.select();\n  \n  try {\n    const success = document.execCommand('copy');\n    showNotification(success ? 'âœ… ç½‘å€å·²å¤åˆ¶' : 'âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·é•¿æŒ‰ç½‘å€æ‰‹åŠ¨å¤åˆ¶');\n  } catch (err) {\n    showNotification('âŒ å¤åˆ¶å¤±è´¥: ' + err);\n  }\n  \n  document.body.removeChild(textarea);\n}\n\n// æ˜¾ç¤ºæ“ä½œæç¤º\nfunction showNotification(message) {\n  let notification = document.getElementById('pake-notification');\n  if (!notification) {\n    notification = document.createElement('div');\n    notification.id = 'pake-notification';\n    notification.style.cssText = `\n      position: fixed;\n      bottom: 100px;\n      left: 50%;\n      transform: translateX(-50%);\n      background: rgba(0,0,0,0.85);\n      color: white;\n      padding: 12px 25px;\n      border-radius: 30px;\n      z-index: 10000;\n      font-size: 15px;\n      transition: opacity 0.4s;\n      opacity: 0;\n      white-space: nowrap;\n      font-family: -apple-system, \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n    `;\n    document.body.appendChild(notification);\n  }\n  \n  notification.textContent = message;\n  notification.style.opacity = 1;\n  \n  setTimeout(() => {\n    notification.style.opacity = 0;\n  }, 2500);\n}\n\n// é¡µé¢åŠ è½½å®Œæˆåæ·»åŠ æŒ‰é’®\nif (document.readyState === 'complete') {\n  createCopyButton();\n} else {\n  window.addEventListener('load', createCopyButton);\n}\n\n// é˜²æ­¢SPAåº”ç”¨æŒ‰é’®æ¶ˆå¤±\nsetInterval(() => {\n  if(!document.getElementById('pake-copy-btn')) {\n    createCopyButton();\n  }\n}, 3000);","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"XHS","title":"XHS","url":"https://www.xiaohongshu.com/explore","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"XHS","showName":"XHS","version":"0.0.1","webUrl":"https://www.xiaohongshu.com/explore","id":"com.XHS.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"","isHtml":false,"debug":false},"android":{"name":"XHS","showName":"XHS","version":"0.0.1","webUrl":"https://www.xiaohongshu.com/explore","id":"com.XHS.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"","isHtml":false,"debug":false},"desktop":{"name":"XHS","showName":"XHS","version":"0.0.1","id":"com.XHS.app.desktop","desc":"","webUrl":"https://www.xiaohongshu.com/explore","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"debug":true}}